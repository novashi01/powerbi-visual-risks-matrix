# v1.3.0 Architecture - CORRECT EXPLANATION

## âš ï¸ CLARIFICATION: Two Separate Concepts

There are **TWO DIFFERENT** grid systems - this is the key understanding:

### 1. **Matrix Grid** (Likelihood Ã— Consequence Matrix)
**Purpose:** The main risk assessment matrix structure  
**Controls:** Overall matrix dimensions  
**Settings:**
- Matrix Rows: 2-10 (default: 5 for 5Ã—5 matrix)
- Matrix Columns: 2-10 (default: 5 for 5Ã—5 matrix)
- Enable Scrolling: true/false

**Example:**
```
3Ã—3 Matrix Grid:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Low L  â”‚ Med L  â”‚ High L â”‚  â† Likelihood levels
â”‚ High C â”‚        â”‚        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚        â”‚        â”‚  â† Consequence levels
â”‚ Med C  â”‚        â”‚        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚        â”‚        â”‚
â”‚ Low C  â”‚        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5Ã—5 Matrix Grid (traditional):
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚  â† 5 likelihood levels
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚  â† 5 consequence levels
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
```

---

### 2. **Marker Grid** (Risk IDs within Each Cell)
**Purpose:** How to arrange multiple risk markers INSIDE each cell  
**Controls:** Marker positioning within a single matrix cell  
**Only applies when:** Positioning Mode = "Organized Grid"  
**Settings:**
- Marker Rows (per cell): 1-10 (default: 3)
- Marker Columns (per cell): 1-10 (default: 3)
- Cell Padding: 0-20px
- Show Inherent in Organized: true/false
- Organized Arrows: true/false

**Example:**
```
Single Matrix Cell with 3Ã—3 Marker Grid:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Risk-001  Risk-002  Risk-003â”‚  â† Row 1 (3 risks)
â”‚     â—          â—          â—  â”‚
â”‚                              â”‚
â”‚  Risk-004  Risk-005  Risk-006â”‚  â† Row 2 (3 risks)
â”‚     â—          â—          â—  â”‚
â”‚                              â”‚
â”‚  Risk-007  Risk-008  Risk-009â”‚  â† Row 3 (3 risks)
â”‚     â—          â—          â—  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Maximum capacity: 3Ã—3 = 9 risks per cell
```

---

## ğŸ¯ Complete Example: 3Ã—3 Matrix with 3Ã—3 Markers

### Matrix Grid: 3 rows Ã— 3 columns = 9 cells total
### Marker Grid: 3 rows Ã— 3 columns = 9 risks per cell max

```
FULL RISK MATRIX VISUALIZATION:

     Low L       Medium L     High L
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
H  â”‚         â”‚  R-045  â”‚  R-098  â”‚  High
i  â”‚         â”‚    â—    â”‚  R-101  â”‚  Consequence
g  â”‚         â”‚         â”‚  â— â—    â”‚
h  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚  R-023  â”‚  R-067  â”‚  R-112  â”‚  Medium
C  â”‚    â—    â”‚  R-078  â”‚  R-119  â”‚  Consequence
   â”‚         â”‚  â— â—    â”‚  R-123  â”‚
   â”‚         â”‚         â”‚  â— â— â—  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
L  â”‚  R-001  â”‚  R-034  â”‚  R-089  â”‚  Low
o  â”‚  R-005  â”‚  R-038  â”‚         â”‚  Consequence
w  â”‚  â— â—    â”‚  â— â—    â”‚    â—    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
- 9 total cells (3Ã—3 matrix grid)
- Each cell can hold up to 9 risks (3Ã—3 marker grid)
- Risks organized in neat rows/columns within each cell
```

---

## ğŸ“Š Configuration Hierarchy

```
v1.3.0 Settings Structure:
â”‚
â”œâ”€â”€ Matrix Grid Panel
â”‚   â”œâ”€â”€ Matrix Rows: 2-10 (controls overall matrix size)
â”‚   â”œâ”€â”€ Matrix Columns: 2-10 (controls overall matrix size)
â”‚   â””â”€â”€ Enable Scrolling: true/false
â”‚
â””â”€â”€ Risk Markers Layout Panel
    â”œâ”€â”€ Positioning Mode: 
    â”‚   â”œâ”€â”€ "Organized Grid" â† Uses marker grid settings
    â”‚   â”œâ”€â”€ "Random Scatter" â† Legacy jittered
    â”‚   â””â”€â”€ "Centered" â† Single centered position
    â”‚
    â””â”€â”€ Organized Grid Settings (only when mode = Organized):
        â”œâ”€â”€ Marker Rows: 1-10 (risks per cell vertically)
        â”œâ”€â”€ Marker Columns: 1-10 (risks per cell horizontally)
        â”œâ”€â”€ Cell Padding: 0-20px
        â”œâ”€â”€ Show Inherent in Organized: true/false
        â””â”€â”€ Organized Arrows: true/false
```

---

## ğŸ’¡ Key Understanding

### âŒ WRONG Understanding:
"Matrix rows/columns controls how many risk IDs are in the grid"

### âœ… CORRECT Understanding:
**Matrix Rows/Columns** = Size of the risk assessment matrix (Likelihood Ã— Consequence)
- 3Ã—3 = 9 total cells for risk categorization
- 5Ã—5 = 25 total cells for risk categorization (traditional)
- 10Ã—10 = 100 total cells for detailed assessment

**Marker Rows/Columns** = How many risks fit in EACH cell when using organized mode
- 3Ã—3 = up to 9 risks organized per cell
- 5Ã—5 = up to 25 risks organized per cell
- 2Ã—2 = up to 4 risks organized per cell

---

## ğŸ¨ Visual Examples

### Example 1: Small Portfolio
**Matrix Grid:** 3Ã—3 (9 cells)  
**Marker Grid:** 2Ã—2 (4 risks per cell)  
**Total Capacity:** 9 cells Ã— 4 markers = 36 risks

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ â— â—  â”‚      â”‚  â—   â”‚  â† Each cell can hold
â”‚ â— â—  â”‚  â—   â”‚  â—   â”‚     2Ã—2 = 4 risks
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—   â”‚ â— â—  â”‚ â— â—  â”‚
â”‚      â”‚ â— â—  â”‚ â—    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ â— â—  â”‚  â—   â”‚      â”‚
â”‚ â—    â”‚      â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: Standard Portfolio  
**Matrix Grid:** 5Ã—5 (25 cells)  
**Marker Grid:** 3Ã—3 (9 risks per cell)  
**Total Capacity:** 25 cells Ã— 9 markers = 225 risks

```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ â—â—â—â”‚    â”‚  â— â”‚ â—â— â”‚ â—â—â—â”‚  â† Traditional 5Ã—5 matrix
â”‚ â—â—â—â”‚ â—â— â”‚  â— â”‚ â—â— â”‚ â—â—â—â”‚     with organized markers
â”‚ â—â—â—â”‚ â—â— â”‚    â”‚    â”‚ â—â— â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â— â”‚ â—  â”‚
â”‚  â— â”‚ â—â—â—â”‚ â—â— â”‚ â—  â”‚    â”‚
â”‚    â”‚ â—â— â”‚ â—  â”‚    â”‚    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ â—â— â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â— â”‚
â”‚ â—â— â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â—â—â”‚ â—  â”‚
â”‚ â—  â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â—â—â”‚    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ â—  â”‚ â—â— â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â—â—â”‚
â”‚    â”‚ â—  â”‚ â—â—â—â”‚ â—â—â—â”‚ â—â—â—â”‚
â”‚    â”‚    â”‚ â—  â”‚ â—â— â”‚ â—  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚    â”‚  â— â”‚ â—â— â”‚ â—â— â”‚ â—â—â—â”‚
â”‚    â”‚    â”‚ â—  â”‚ â—  â”‚ â—â—â—â”‚
â”‚    â”‚    â”‚    â”‚    â”‚ â—  â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
```

### Example 3: Large Enterprise Portfolio
**Matrix Grid:** 10Ã—10 (100 cells)  
**Marker Grid:** 5Ã—5 (25 risks per cell)  
**Total Capacity:** 100 cells Ã— 25 markers = 2,500 risks  
**Scrolling:** REQUIRED (enabled by default)

---

## ğŸ¯ Default Configuration (v1.3.0)

```javascript
Default Settings:
{
  matrixGrid: {
    matrixRows: 3,        // 3Ã—3 matrix (9 cells)
    matrixColumns: 3,
    enableScrolling: true
  },
  riskMarkersLayout: {
    positioningMode: "organized",
    markerRows: 3,        // 3Ã—3 markers per cell (9 risks max)
    markerColumns: 3,
    cellPadding: 5,
    showInherentInOrganized: true,
    organizedArrows: true
  }
}
```

**Result:** 3Ã—3 matrix with up to 9 organized risks per cell

---

## â“ Common Questions

**Q: What if I have more than 9 risks in one cell with 3Ã—3 marker grid?**  
A: Only the first 9 risks are displayed in that cell. Consider:
- Increasing marker grid to 4Ã—4 (16 risks) or 5Ã—5 (25 risks)
- Or using "Random Scatter" mode which can show more (with overlap)

**Q: Can I use 10Ã—10 matrix grid with 2Ã—2 marker grid?**  
A: Yes! That gives you 100 cells with 4 organized risks each = 400 total capacity

**Q: What's the difference between v1.2.0 and v1.3.0?**  
A: v1.2.0 has fixed 5Ã—5 matrix. v1.3.0 allows any matrix size (2Ã—2 to 10Ã—10) AND organizes markers within each cell.

---

## ğŸ“ Summary

**Two Independent Grid Systems:**

1. **Matrix Grid** (Main Structure)
   - Controls the risk assessment matrix size
   - Default: 3Ã—3 (was 5Ã—5 in v1.2.0)
   - Range: 2Ã—2 to 10Ã—10

2. **Marker Grid** (Per-Cell Organization)  
   - Controls how risks arrange INSIDE each cell
   - Default: 3Ã—3 per cell
   - Range: 1Ã—1 to 10Ã—10 per cell
   - Only active in "Organized Grid" positioning mode

**The Innovation:**
v1.3.0 adds flexibility at BOTH levels - you can configure the overall matrix structure AND how markers organize within each cell.

This is what makes v1.3.0 significantly more powerful than v1.2.0's fixed 5Ã—5 structure.